(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function i(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=i(e);fetch(e.href,t)}})();const r=document.getElementById("app"),u=r.getContext("2d",{willReadFrequently:!0}),f=new Image;f.src="front2.png";f.onload=function(){u.drawImage(f,0,0,r.width,r.height),r.addEventListener("mousemove",h),r.addEventListener("touchmove",h)};f.onerror=function(){console.error("Failed to load top image")};const l=new Image;l.src="mask.png";l.onload=function(){console.log("Scratch texture loaded successfully")};l.onerror=function(){console.error("Failed to load scratch texture")};let a,d,g=!0;function h(n){const c=r.getBoundingClientRect(),i=(n.clientX||n.touches[0].clientX)-c.left,o=(n.clientY||n.touches[0].clientY)-c.top;u.globalCompositeOperation="destination-out",(a===void 0||d===void 0)&&(a=i,d=o);const e=Math.hypot(i-a,o-d),t=Math.atan2(o-d,i-a);for(let s=0;s<e;s+=l.width/4){const m=Math.cos(t)*s,p=Math.sin(t)*s;u.drawImage(l,i-m-l.width/2,o-p-l.height/2)}a=i,d=o,y()}function y(){const n=u.getImageData(0,0,r.width,r.height).data;let c=0;for(let o=3;o<n.length;o+=4)n[o]>0&&c++;c/(r.width*r.height)*100<75&&g&&w()}function w(){g=!1;const n=document.querySelector(".button");n?n.id="show":console.error('Element with class "button" not found.')}
